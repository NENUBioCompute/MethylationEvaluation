webpackJsonp([1],{"0uyt":function(e,t){},"3fs2":function(e,t,r){var n=r("RY/4"),a=r("dSzd")("iterator"),o=r("/bQp");e.exports=r("FeBl").getIteratorMethod=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||o[n(e)]}},"4iyp":function(e,t){},"9bPZ":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("BO1k"),a=r.n(n),o=r("mvHQ"),s=r.n(o),i=r("gRE1"),l=r.n(i),u=r("fZjL"),c=r.n(u),d={data:function(){return{agePerPage:5,ageCurrentPage:1,samplePerPage:5,sampleCurrentPage:1,sampleData:[],errorData:[],ageData:[],showBar:!1,sortBy:"sampleID",sortDesc:!1,fields:[{key:"sampleID",sortable:!0},{key:"Age",sortable:!0,class:"text-center"},{key:"HorvathAge",sortable:!1},{key:"Skin&BloodClock",sortable:!1},{key:"ZhangBlupredAge",sortable:!1},{key:"HannumAge",sortable:!1},{key:"WeidnerAge",sortable:!1},{key:"LinAge",sortable:!1},{key:"PedBE",sortable:!1},{key:"FeSTwo",sortable:!1},{key:"MEAT",sortable:!1},{key:"AltumAge",sortable:!1},{key:"PhenoAge",sortable:!1},{key:"BNN",sortable:!1},{key:"EPM",sortable:!1},{key:"CorticalClock",sortable:!1},{key:"VidalBraloAge",sortable:!1}],fieldsSample:[{key:"sampleID",sortable:!0},{key:"Age",sortable:!0,class:"text-center"},{key:"Age_unit",sortable:!1},{key:"Gender",sortable:!1},{key:"Race",sortable:!1},{key:"Tissue",sortable:!1},{key:"Disease",sortable:!1},{key:"Condition",sortable:!1},{key:"Platform",sortable:!1}],predAgeOption:{}}},computed:{sampleTableRows:function(){return this.sampleData.length},ageTableRows:function(){return this.ageData.length},errorTableRows:function(){return this.errorData.length}},methods:{drawBar:function(e){var t=c()(e),r=l()(e);t.splice(0,2),r.splice(0,2),this.predAgeOption={title:{text:e.sampleID,left:"center"},xAxis:{type:"category",axisLabel:{rotate:45},data:t},yAxis:{type:"value"},series:[{data:r,type:"bar"}]},this.showBar=!0}},mounted:function(){this.sampleData=JSON.parse(sessionStorage.sampleData),this.ageData=JSON.parse(sessionStorage.predAgeData)}},f={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-card",{staticClass:"mb-2",attrs:{title:"Sample Information",tag:"article"}},[r("b-table",{attrs:{responsive:"",id:"sampleTable",items:e.sampleData,"per-page":e.samplePerPage,"current-page":e.sampleCurrentPage,"head-variant":"light",fields:e.fieldsSample,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-icon-left":""},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t}}}),e._v(" "),r("b-pagination",{attrs:{"total-rows":e.sampleTableRows,"per-page":e.samplePerPage,align:"right","aria-controls":"sampleTable"},model:{value:e.sampleCurrentPage,callback:function(t){e.sampleCurrentPage=t},expression:"sampleCurrentPage"}})],1),e._v(" "),r("b-card",{staticClass:"mb-2",attrs:{title:"Predicted Age (Double-click on the table to see a bar chart of predicted ages)",tag:"article"}},[r("b-table",{attrs:{responsive:"",id:"ageTable",items:e.ageData,"per-page":e.agePerPage,"current-page":e.ageCurrentPage,"head-variant":"light",fields:e.fields,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-icon-left":""},on:{"row-dblclicked":e.drawBar,"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t}}}),e._v(" "),r("b-pagination",{attrs:{"total-rows":e.ageTableRows,"per-page":e.agePerPage,align:"right","aria-controls":"ageTable"},model:{value:e.ageCurrentPage,callback:function(t){e.ageCurrentPage=t},expression:"ageCurrentPage"}})],1),e._v(" "),r("b-card",{directives:[{name:"show",rawName:"v-show",value:e.showBar,expression:"showBar"}],staticClass:"mb-2",attrs:{title:"Predicted Age",tag:"article"}},[r("v-chart",{staticStyle:{height:"300px"},attrs:{autoresize:"",option:e.predAgeOption}})],1)],1)},staticRenderFns:[]};var h=r("VU/8")(d,f,!1,function(e){r("0uyt")},"data-v-56e2ae7a",null).exports,p={data:function(){return{optionAge:{},optionGender:{title:{text:"Diease Ratio",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{type:"pie",radius:"50%",data:[{value:58,name:"Male"},{value:49,name:"Female"},{value:49,name:"Unknown"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},optionDisease:{},optionTissue:{title:{text:"Diease Ratio",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{type:"pie",radius:"50%",data:[{value:25,name:"T cell"},{value:12,name:"PBMC"},{value:15,name:"Colon"},{value:33,name:"Whole blood"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},optionRace:{title:{text:"Diease Ratio",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{type:"pie",radius:"50%",data:[{value:13,name:"Black"},{value:27,name:"Japan"},{value:20,name:"Unknown"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},showDisease:!1,showTissue:!1,showRace:!1}},methods:{drawChart:function(){var e=JSON.parse(sessionStorage.genderNum),t=JSON.parse(sessionStorage.ageNum),r=JSON.parse(sessionStorage.diseaseNum),n=JSON.parse(sessionStorage.tissueNum),a=JSON.parse(sessionStorage.raceNum),o=[],s=[],i=[],l=[];for(var u in e){var c={value:e[u],name:u};o.push(c)}for(var d in console.log(o),r){var f={value:r[d],name:d};s.push(f)}for(var h in n){var p={value:n[h],name:h};i.push(p)}for(var g in a){var m={value:a[g],name:g};l.push(m)}this.optionGender={title:{left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"right",right:20,top:0,bottom:20},series:[{type:"pie",radius:"50%",data:o,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},this.optionAge={title:{left:"center"},xAxis:{type:"category",data:["< 0","0-10","10-20","20-30","30-40","40-50","50-60","60-70","70-80","80-90","90-100","> 100"],axisLabel:{interval:0,rotate:40}},yAxis:{type:"value"},series:[{data:t,type:"bar"}]},this.optionDisease={title:{left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"right",right:20,top:0,bottom:20,type:"scroll"},series:[{type:"pie",radius:"50%",data:s,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},this.optionTissue={title:{left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"right",right:20,top:0,bottom:20,type:"scroll"},series:[{type:"pie",radius:"50%",data:i,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},this.optionRace={title:{left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"right",right:20,top:0,bottom:20,type:"scroll"},series:[{type:"pie",radius:"50%",data:l,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}},changeModel:function(){"datasets"===sessionStorage.model&&(this.showDisease=!0,this.showTissue=!0,this.showRace=!0)}},mounted:function(){this.drawChart(),this.changeModel()}},g={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{width:"100vw","max-width":"100%"}},[r("b-row",[r("b-col",{attrs:{cols:"3"}},[r("b-card",{staticClass:"mb-2",attrs:{header:"Age Ratio Plot",tag:"article"}},[r("v-chart",{staticStyle:{height:"300px"},attrs:{autoresize:"",option:e.optionAge}})],1)],1),e._v(" "),r("b-col",{attrs:{cols:"3"}},[r("b-card",{staticClass:"mb-2",attrs:{header:"Gender Ratio Plot",tag:"article"}},[r("v-chart",{staticStyle:{height:"300px"},attrs:{autoresize:"",option:e.optionGender}})],1)],1),e._v(" "),r("b-col",{directives:[{name:"show",rawName:"v-show",value:e.showDisease,expression:"showDisease"}],attrs:{cols:"6"}},[r("b-card",{staticClass:"mb-2",attrs:{header:"Disease Ratio Plot",tag:"article"}},[r("v-chart",{staticStyle:{height:"300px"},attrs:{autoresize:"",option:e.optionDisease}})],1)],1),e._v(" "),r("b-col",{directives:[{name:"show",rawName:"v-show",value:e.showTissue,expression:"showTissue"}],attrs:{cols:"6"}},[r("b-card",{staticClass:"mb-2",attrs:{header:"Tissue Ratio Plot",tag:"article"}},[r("v-chart",{staticStyle:{height:"300px"},attrs:{autoresize:"",option:e.optionTissue}})],1)],1),e._v(" "),r("b-col",{directives:[{name:"show",rawName:"v-show",value:e.showRace,expression:"showRace"}],attrs:{cols:"6"}},[r("b-card",{staticClass:"mb-2",attrs:{header:"Race Ratio Plot",tag:"article"}},[r("v-chart",{staticStyle:{height:"300px"},attrs:{autoresize:"",option:e.optionRace}})],1)],1)],1)],1)},staticRenderFns:[]},m=r("VU/8")(p,g,!1,null,null,null).exports,v=r("siuG"),b=r("XLwt"),y={data:function(){return{clocks:[],chartData:[],matric:[3.51,4.58,.98]}},methods:{draw:function(){b.a(v.transform.regression);var e=JSON.parse(sessionStorage.predAgeData),t=!0,r=!1,n=void 0;try{for(var o,s=a()(this.clocks);!(t=(o=s.next()).done);t=!0){for(var i=o.value,l=[],u=0;u<e.length;u++){var c=[e[u].Age,e[u][i]];l.push(c)}var d={dataset:[{source:l},{transform:{type:"ecStat:regression"}}],tooltip:{axisPointer:{type:"cross"}},xAxis:{name:"Year",splitLine:{lineStyle:{type:"dashed"}}},yAxis:{name:"Year",splitLine:{lineStyle:{type:"dashed"}}},series:[{symbolSize:5,type:"scatter",datasetIndex:0},{name:"line",type:"line",datasetIndex:1,symbolSize:.1,symbol:"circle",label:{show:!0,fontSize:16},labelLayout:{dx:-20},encode:{label:2,tooltip:1}}]};this.chartData.push(d)}}catch(e){r=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(r)throw n}}}},mounted:function(){this.clocks=sessionStorage.clocksName.split(","),this.draw()}},x={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{width:"100vw","max-width":"100%"}},[r("b-row",e._l(e.clocks,function(t,n){return r("b-card-group",{key:n,staticClass:"col-md-4"},[r("b-card",{staticClass:"mb-2",attrs:{header:t,tag:"article"}},[r("v-chart",{staticStyle:{height:"380px"},attrs:{autoresize:"",option:e.chartData[n]}})],1)],1)}),1)],1)},staticRenderFns:[]};var w={data:function(){return{gender:["male","male","female"],selectGender:["male","male","female"],clocks:[],datasetIDs:[]}},components:{Table:h,Plot:m,ScatterPlot:r("VU/8")(y,x,!1,function(e){r("HouB")},"data-v-004f339d",null).exports},methods:{processData:function(){if(0!==this.$store.state.clockList.length){sessionStorage.setItem("clocksName",this.$store.state.clockList),sessionStorage.setItem("model",this.$store.state.model),sessionStorage.setItem("data",s()(this.$store.state.datasts));var e=[],t=[],r={},n=[0,0,0,0,0,0,0,0,0,0,0,0],o=JSON.parse(sessionStorage.data),i={},l={},u={},c=!0,d=!1,f=void 0;try{for(var h,p=a()(o);!(c=(h=p.next()).done);c=!0)for(var g=h.value,m=0;m<g.ID_REF.length;m++){var v=g.TrueAge[m];switch(!0){case v<0:n[0]+=1;break;case v>=0&&v<10:n[1]+=1;break;case v>=10&&v<20:n[2]+=1;break;case v>=20&&v<30:n[3]+=1;break;case v>=30&&v<40:n[4]+=1;break;case v>=40&&v<50:n[5]+=1;break;case v>=50&&v<60:n[6]+=1;break;case v>=60&&v<70:n[7]+=1;break;case v>=70&&v<80:n[8]+=1;break;case v>=80&&v<90:n[9]+=1;break;case v>=90&&v<100:n[10]+=1;break;case v>=100:n[11]+=1}r[g.Gender[m]]?r[g.Gender[m]]+=1:r[g.Gender[m]]=1,i[g.Disease[m]]?i[g.Disease[m]]+=1:i[g.Disease[m]]=1,l[g.Tissue[m]]?l[g.Tissue[m]]+=1:l[g.Tissue[m]]=1,u[g.Race[m]]?u[g.Race[m]]+=1:u[g.Race[m]]=1;var b={sampleID:g.ID_REF[m],Age:g.TrueAge[m],Age_unit:g.Age_unit,Gender:g.Gender[m],Race:g.Race[m],Tissue:g.Tissue[m],Disease:g.Disease[m],Condition:g.Condition[m],Platform:g.Platform},y={dataset:g.Dataset,sampleID:g.ID_REF[m],Age:g.TrueAge[m],HorvathAge:g.PredAge.HorvathAge[m],"Skin&BloodClock":g.PredAge["Skin&BloodClock"][m],ZhangBlupredAge:g.PredAge.ZhangBlupredAge[m],HannumAge:g.PredAge.HannumAge[m],WeidnerAge:g.PredAge.WeidnerAge[m],LinAge:g.PredAge.LinAge[m],PedBE:g.PredAge.PedBE[m],FeSTwo:g.PredAge.FeSTwo[m],MEAT:g.PredAge.MEAT[m],AltumAge:g.PredAge.AltumAge[m],PhenoAge:g.PredAge.PhenoAge[m],BNN:g.PredAge.BNN[m],EPM:g.PredAge.EPM[m],CorticalClock:g.PredAge.CorticalClock[m],VidalBraloAge:g.PredAge.VidalBraloAge[m]};e.push(b),t.push(y)}}catch(e){d=!0,f=e}finally{try{!c&&p.return&&p.return()}finally{if(d)throw f}}console.log(o),sessionStorage.setItem("sampleData",s()(e)),sessionStorage.setItem("predAgeData",s()(t)),sessionStorage.setItem("genderNum",s()(r)),sessionStorage.setItem("ageNum",s()(n)),sessionStorage.setItem("diseaseNum",s()(i)),sessionStorage.setItem("tissueNum",s()(l)),sessionStorage.setItem("raceNum",s()(u))}},allGender:function(){this.selectGender=this.gender},Male:function(){var e=[],t=!0,r=!1,n=void 0;try{for(var o,s=a()(this.gender);!(t=(o=s.next()).done);t=!0){var i=o.value;"male"===i&&e.push(i)}}catch(e){r=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(r)throw n}}this.selectGender=e},Female:function(){var e=[],t=!0,r=!1,n=void 0;try{for(var o,s=a()(this.gender);!(t=(o=s.next()).done);t=!0){var i=o.value;"female"===i&&e.push(i)}}catch(e){r=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(r)throw n}}this.selectGender=e}},created:function(){this.processData()}},D={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{width:"95%",margin:"auto","margin-top":"50px"}},[t("b-tabs",{attrs:{"active-nav-item-class":"font-weight-bold text-uppercase text-danger","active-tab-class":"font-weight-bold text-success","content-class":"mt-3"}},[t("b-tab",{attrs:{title:"Predicted Result Table",active:""}},[t("Table")],1),this._v(" "),t("b-tab",{attrs:{title:"Predicted Result Plot"}},[t("Plot")],1),this._v(" "),t("b-tab",{attrs:{title:"Predicted Result Scatter Plot"}},[t("ScatterPlot")],1)],1)],1)},staticRenderFns:[]};var A=r("VU/8")(w,D,!1,function(e){r("4iyp")},"data-v-40834aba",null);t.default=A.exports},BO1k:function(e,t,r){e.exports={default:r("fxRn"),__esModule:!0}},GY9q:function(e,t,r){var n;n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}return r.m=e,r.c=t,r.p="",r(0)}([function(e,t,r){var n;void 0===(n=function(e){return{clustering:r(1),regression:r(5),statistics:r(6),histogram:r(15),transform:{regression:r(18),histogram:r(21),clustering:r(22)}}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(e){var t=r(2),n=t.dataPreprocess,a=t.normalizeDimensions,o=r(3),s=r(4),i=o.size,l=o.sumOfColumn,u=o.sum,c=o.zeros,d=(s=r(4)).isNumber,f=Math.pow,h={SINGLE:"single",MULTIPLE:"multiple"};function p(e,t,r){for(var n,a,o,s,i=c(e.length,2),l=function(e,t){for(var r=c(e,t.length),n=0;n<t.length;n++)for(var a=t[n],o=0;o<e;o++)r[o][n]=a.min+a.span*Math.random();return r}(t,b(e,r.dimensions)),u=!0;u;){u=!1;for(var d=0;d<e.length;d++){n=1/0,a=-1;for(var f=0;f<t;f++)(o=v(e[d],l[f],r))<n&&(n=o,a=f);i[d][0]!==a&&(u=!0),i[d][0]=a,i[d][1]=n}for(d=0;d<t;d++){s=[];for(f=0;f<i.length;f++)i[f][0]===d&&s.push(e[f]);l[d]=g(s,r)}}return{centroids:l,clusterAssigned:i}}function g(e,t){for(var r,n,a=[],o=0;o<t.dimensions.length;o++){var s=t.dimensions[o];r=0;for(var i=0;i<e.length;i++)r+=e[i][s];n=r/e.length,a.push(n)}return a}function m(e,t){var r=t.outputCentroidDimensions;if(t.outputType===h.SINGLE&&null!=r)for(var n=e.data,a=e.centroids,o=0;o<n.length;o++)for(var s=n[o],i=a[s[t.outputClusterIndexDimension]],l=Math.min(i.length,r.length),u=0;u<l;u++)s[r[u]]=i[u]}function v(e,t,r){for(var n=0,a=r.dimensions,o=r.rawExtents,s=0;s<a.length;s++){var i=o[s].span;if(i){var l=(e[a[s]]-t[s])/i;n+=f(l,2)}}return n}function b(e,t){for(var r=[],n=t.length,a=0;a<n;a++)r.push({min:1/0,max:-1/0});for(a=0;a<e.length;a++)for(var o=e[a],s=0;s<n;s++){var i=r[s],l=o[t[s]];i.min>l&&(i.min=l),i.max<l&&(i.max=l)}for(a=0;a<n;a++)r[a].span=r[a].max-r[a].min;return r}return{OutputType:h,hierarchicalKMeans:function(e,t,r){var o=(d(t)?{clusterCount:t,stepByStep:r}:t)||{clusterCount:2},f=o.clusterCount;if(!(f<2)){var y,x,w,D=function(e,t){var r=i(e);if(r.length<1)throw new Error("The input data of clustering should be two-dimension array.");for(var n=r[1],o=[],l=0;l<n;l++)o.push(l);var u=a(t.dimensions,o),c=t.outputType||h.MULTIPLE,d=t.outputClusterIndexDimension;if(c===h.SINGLE&&!s.isNumber(d))throw new Error("outputClusterIndexDimension is required as a number.");var f=b(e,u);return{dimensions:u,rawExtents:f,outputType:c,outputClusterIndexDimension:d,outputCentroidDimensions:t.outputCentroidDimensions}}(e,o),A=D.outputType===h.SINGLE,S=n(e,{dimensions:D.dimensions}),P=c(S.length,2);if(A){y=[];var M=D.outputClusterIndexDimension;x=function(e,t){y[e][M]=t},w=function(e){return y[e][M]};for(var k=0;k<S.length;k++)y.push(S[k].slice()),F(k,0),x(k,0)}else x=function(e,t){P[e][0]=t},w=function(e){return P[e][0]};var C,N,T,B,R,E,I=g(S,D),O=[I];for(k=0;k<S.length;k++)F(k,v(S[k],I,D));var _=1,z={data:y,centroids:O,isEnd:!1};if(A||(z.clusterAssment=P),o.stepByStep)z.next=function(){return G(),m(z,D),z};else for(;G(),!z.isEnd;);return m(z,D),z}function F(e,t){P[e][1]=t}function G(){if(_<f){var e,t,r;C=1/0;for(var n=0;n<O.length;n++){N=[],T=[];for(var a=0;a<S.length;a++)w(a)===n?N.push(S[a]):T.push(P[a][1]);B=p(N,2,D),R=l(B.clusterAssigned,1),E=u(T),R+E<C&&(C=E+R,e=n,t=B.centroids,r=B.clusterAssigned)}for(a=0;a<r.length;a++)0===r[a][0]?r[a][0]=e:1===r[a][0]&&(r[a][0]=O.length);for(O[e]=t[0],O.push(t[1]),a=0,n=0;a<S.length&&n<r.length;a++)w(a)===e&&(x(a,r[n][0]),F(a,r[n++][1]));var o=[];if(!A){for(a=0;a<O.length;a++)for(o[a]=[],n=0;n<S.length;n++)w(n)===a&&o[a].push(S[n]);z.pointsInCluster=o}_++}else z.isEnd=!0}}}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(e){var t=r(3),n=t.isArray,a=t.size,o=r(4).isNumber;return{normalizeDimensions:function(e,t){return"number"==typeof e?[e]:null==e?t:e},dataPreprocess:function(e,t){var r=(t=t||{}).dimensions,s={};if(null!=r)for(var i=0;i<r.length;i++)s[r[i]]=!0;var l=t.toOneDimensionArray?r?r[0]:0:null;if(!n(e))throw new Error("Invalid data type, you should input an array");var u,c=[],d=a(e);if(1===d.length)for(i=0;i<d[0];i++){var f=e[i];o(f)&&c.push(f)}else if(2===d.length)for(i=0;i<d[0];i++){for(var h=!0,p=(f=e[i],0);p<d[1];p++)u=p,r&&!s.hasOwnProperty(u)||o(f[p])||(h=!1);h&&c.push(null!=l?f[l]:f)}return c},getPrecision:function(e){var t=e.toString(),r=t.indexOf(".");return r<0?0:t.length-1-r}}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(e){var t=Object.prototype.toString,r=Array.prototype.map;function n(e){return"[object Array]"===t.call(e)}function a(e,t){return e>t?1:e<t?-1:e===t?0:NaN}return{size:function(e){for(var t=[];n(e);)t.push(e.length),e=e[0];return t},isArray:n,zeros:function(e,t){for(var r=[],n=0;n<e;n++){r[n]=[];for(var a=0;a<t;a++)r[n][a]=0}return r},sum:function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t},sumOfColumn:function(e,t){for(var r=0,n=0;n<e.length;n++)r+=e[n][t];return r},ascending:a,bisect:function(e,t,r,n){for(null==r&&(r=0),null==n&&(n=e.length);r<n;){var o=Math.floor((r+n)/2),s=a(e[o],t);if(s>0)n=o;else{if(!(s<0))return o+1;r=o+1}}return r},map:function(e,t,n){if(e&&t){if(e.map&&e.map===r)return e.map(t,n);for(var a=[],o=0,s=e.length;o<s;o++)a.push(t.call(n,e[o],o,e));return a}}}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(e){return{isNumber:function(e){return"number"==typeof(e=null===e?NaN:+e)&&!isNaN(e)},isInteger:function(e){return isFinite(e)&&e===Math.round(e)},quantityExponent:function(e){if(0===e)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(e){var t=r(2),n=t.dataPreprocess,a=t.normalizeDimensions,o={linear:function(e,t){for(var r=t.dimensions[0],n=t.dimensions[1],a=0,o=0,s=0,i=0,l=e.length,u=0;u<l;u++){a+=(p=e[u])[r],o+=p[n],s+=p[r]*p[n],i+=p[r]*p[r]}for(var c=(l*s-a*o)/(l*i-a*a),d=o/l-c*a/l,f=[],h=0;h<e.length;h++){var p,g=(p=e[h]).slice();g[r]=p[r],g[n]=c*p[r]+d,f.push(g)}return{points:f,parameter:{gradient:c,intercept:d},expression:"y = "+Math.round(100*c)/100+"x + "+Math.round(100*d)/100}},linearThroughOrigin:function(e,t){for(var r=t.dimensions[0],n=t.dimensions[1],a=0,o=0,s=0;s<e.length;s++){a+=(c=e[s])[r]*c[r],o+=c[r]*c[n]}for(var i=o/a,l=[],u=0;u<e.length;u++){var c,d=(c=e[u]).slice();d[r]=c[r],d[n]=c[r]*i,l.push(d)}return{points:l,parameter:{gradient:i},expression:"y = "+Math.round(100*i)/100+"x"}},exponential:function(e,t){for(var r=t.dimensions[0],n=t.dimensions[1],a=0,o=0,s=0,i=0,l=0,u=0;u<e.length;u++){(g=e[u])[r],a+=g[n],l+=g[r]*g[n],o+=g[r]*g[r]*g[n],s+=g[n]*Math.log(g[n]),i+=g[r]*g[n]*Math.log(g[n])}for(var c=a*o-l*l,d=Math.pow(Math.E,(o*s-l*i)/c),f=(a*i-l*s)/c,h=[],p=0;p<e.length;p++){var g,m=(g=e[p]).slice();m[r]=g[r],m[n]=d*Math.pow(Math.E,f*g[r]),h.push(m)}return{points:h,parameter:{coefficient:d,index:f},expression:"y = "+Math.round(100*d)/100+"e^("+Math.round(100*f)/100+"x)"}},logarithmic:function(e,t){for(var r=t.dimensions[0],n=t.dimensions[1],a=0,o=0,s=0,i=0,l=0;l<e.length;l++){var u=e[l];a+=Math.log(u[r]),o+=u[n]*Math.log(u[r]),s+=u[n],i+=Math.pow(Math.log(u[r]),2)}for(var c=(l*o-s*a)/(l*i-a*a),d=(s-c*a)/l,f=[],h=0;h<e.length;h++){var p=(u=e[h]).slice();p[r]=u[r],p[n]=c*Math.log(u[r])+d,f.push(p)}return{points:f,parameter:{gradient:c,intercept:d},expression:"y = "+Math.round(100*d)/100+" + "+Math.round(100*c)/100+"ln(x)"}},polynomial:function(e,t){var r=t.dimensions[0],n=t.dimensions[1],a=t.order;null==a&&(a=2);for(var o=[],s=[],i=a+1,l=0;l<i;l++){for(var u=0,c=0;c<e.length;c++){u+=(b=e[c])[n]*Math.pow(b[r],l)}s.push(u);for(var d=[],f=0;f<i;f++){for(var h=0,p=0;p<e.length;p++)h+=Math.pow(e[p][r],l+f);d.push(h)}o.push(d)}o.push(s);var g=function(e,t){for(var r=0;r<e.length-1;r++){for(var n=r,a=r+1;a<e.length-1;a++)Math.abs(e[r][a])>Math.abs(e[r][n])&&(n=a);for(var o=r;o<e.length;o++){var s=e[o][r];e[o][r]=e[o][n],e[o][n]=s}for(var i=r+1;i<e.length-1;i++)for(var l=e.length-1;l>=r;l--)e[l][i]-=e[l][r]/e[r][r]*e[r][i]}for(var u=new Array(t),c=e.length-1,a=e.length-2;a>=0;a--){for(var s=0,r=a+1;r<e.length-1;r++)s+=e[r][a]*u[r];u[a]=(e[c][a]-s)/e[a][a]}return u}(o,i),m=[];for(l=0;l<e.length;l++){var v=0,b=e[l];for(c=0;c<g.length;c++)v+=g[c]*Math.pow(b[r],c);var y=b.slice();y[r]=b[r],y[n]=v,m.push(y)}var x="y = ";for(l=g.length-1;l>=0;l--)x+=l>1?Math.round(g[l]*Math.pow(10,l+1))/Math.pow(10,l+1)+"x^"+l+" + ":1===l?Math.round(100*g[l])/100+"x + ":Math.round(100*g[l])/100;return{points:m,parameter:g,expression:x}}};return function(e,t,r){var s="number"==typeof r?{order:r}:r||{},i=a(s.dimensions,[0,1]),l=n(t,{dimensions:i}),u=o[e](l,{order:s.order,dimensions:i}),c=i[0];return u.points.sort(function(e,t){return e[c]-t[c]}),u}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(e){var t={};return t.max=r(7),t.deviation=r(8),t.mean=r(10),t.median=r(12),t.min=r(14),t.quantile=r(13),t.sampleVariance=r(9),t.sum=r(11),t}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(e){var t=r(4).isNumber;return function(e){for(var r=-1/0,n=0;n<e.length;n++)t(e[n])&&e[n]>r&&(r=e[n]);return r}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(e){var t=r(9);return function(e){var r=t(e);return r?Math.sqrt(r):r}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(e){var t=r(4).isNumber,n=r(10);return function(e){var r=e.length;if(!r||r<2)return 0;if(e.length>=2){for(var a,o=n(e),s=0,i=0;i<e.length;i++)t(e[i])&&(s+=(a=e[i]-o)*a);return s/(e.length-1)}}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(e){var t=r(11);return function(e){return e.length?t(e)/e.length:0}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(e){var t=r(4).isNumber;return function(e){var r=e.length;if(!r)return 0;for(var n=0,a=0;a<r;a++)t(e[a])&&(n+=e[a]);return n}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(e){var t=r(13);return function(e){return t(e,.5)}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(e){return function(e,t){var r=e.length;if(!r)return 0;if(t<=0||r<2)return e[0];if(t>=1)return e[r-1];var n=(r-1)*t,a=Math.floor(n),o=e[a];return o+(e[a+1]-o)*(n-a)}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(e){var t=r(4).isNumber;return function(e){for(var r=1/0,n=0;n<e.length;n++)t(e[n])&&e[n]<r&&(r=e[n]);return r}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(e){var t=r(7),n=r(14),a=r(13),o=r(8),s=r(2),i=s.dataPreprocess,l=s.normalizeDimensions,u=r(3),c=u.ascending,d=u.map,f=r(16),h=u.bisect,p=r(17);var g={squareRoot:function(e){var t=Math.ceil(Math.sqrt(e.length));return t>50?50:t},scott:function(e,t,r){return Math.ceil((r-t)/(3.5*o(e)*Math.pow(e.length,-1/3)))},freedmanDiaconis:function(e,t,r){return e.sort(c),Math.ceil((r-t)/(2*(a(e,.75)-a(e,.25))*Math.pow(e.length,-1/3)))},sturges:function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}};return function(e,r){for(var a="string"==typeof r?{method:r}:r||{},o=null==a.method?g.squareRoot:g[a.method],s=l(a.dimensions),u=i(e,{dimensions:s,toOneDimensionArray:!0}),c=t(u),m=n(u),v=o(u,m,c),b=p(m,c,v),y=b.step,x=b.toFixedPrecision,w=f(+(Math.ceil(m/y)*y).toFixed(x),+(Math.floor(c/y)*y).toFixed(x),y,x),D=w.length,A=new Array(D+1),S=0;S<=D;S++)A[S]={},A[S].sample=[],A[S].x0=S>0?w[S-1]:w[S]-m===y?m:w[S]-y,A[S].x1=S<D?w[S]:c-w[S-1]===y?c:w[S-1]+y;for(S=0;S<u.length;S++)m<=u[S]&&u[S]<=c&&A[h(w,u[S],0,D)].sample.push(u[S]);return{bins:A,data:e=d(A,function(e){return[+((e.x0+e.x1)/2).toFixed(x),e.sample.length,e.x0,e.x1,e.x0+" - "+e.x1]}),customData:d(A,function(e){return[e.x0,e.x1,e.sample.length]})}}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(e){var t=r(2).getPrecision;return function(e,r,n,a){var o=arguments.length;o<2?(r=e,e=0,n=1):o<3?n=1:a=o<4?t(n=+n):+a;for(var s=Math.ceil(((r-e)/n).toFixed(a)),i=new Array(s+1),l=0;l<s+1;l++)i[l]=+(e+l*n).toFixed(a);return i}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(e){var t=r(4);return function(e,r,n){var a=Math.abs(r-e)/n,o=t.quantityExponent(a),s=Math.pow(10,o),i=a/s;i>=Math.sqrt(50)?s*=10:i>=Math.sqrt(10)?s*=5:i>=Math.sqrt(2)&&(s*=2);var l=o<0?-o:0;return{step:+(r>=e?s:-s).toFixed(l),toFixedPrecision:l}}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(e){var t=r(5),n=r(19);return{type:"ecStat:regression",transform:function(e){var r,a=e.upstream,o=e.config||{},s=o.method||"linear",i=t(s,a.cloneRawData(),{order:o.order,dimensions:n.normalizeExistingDimensions(e,o.dimensions)}),l=i.points,u=o.formulaOn;if(null==u&&(u="end"),"none"!==u){for(var c=0;c<l.length;c++)l[c][2]="start"===u&&0===c||"all"===u||"end"===u&&c===l.length-1?i.expression:"";(r=a.cloneAllDimensionInfo())[2]={}}return[{dimensions:r,data:l}]}}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(e){var t=r(3),n=r(4),a=r(20);return{normalizeExistingDimensions:function(e,r){if(null!=r){var n=e.upstream;if(t.isArray(r)){for(var a=[],o=0;o<r.length;o++){var s;i(s=n.getDimensionInfo(r[o]),r[o]),a[o]=s.index}return a}return i(s=n.getDimensionInfo(r),r),s.index}function i(e,t){if(!e)throw new Error("Can not find dimension by "+t)}},normalizeNewDimensions:function(e){if(t.isArray(e)){for(var r=[],o=[],s=0;s<e.length;s++){var i=l(e[s]);r.push(i.name),o.push(i.index)}return{name:r,index:o}}if(null!=e)return l(e);function l(e){if(n.isNumber(e))return{index:e};if(a.isObject(e)&&n.isNumber(e.index))return e;throw new Error("Illegle new dimensions config. Expect `{ name: string, index: number }`.")}}}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(e){return{extend:function(e,t){if(Object.assign)Object.assign(e,t);else for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},isObject:function(e){const t=typeof e;return"function"===t||!!e&&"object"===t}}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(e){var t=r(15),n=r(19);return{type:"ecStat:histogram",transform:function(e){var r=e.upstream,a=e.config||{},o=t(r.cloneRawData(),{method:a.method,dimensions:n.normalizeExistingDimensions(e,a.dimensions)});return[{dimensions:["MeanOfV0V1","VCount","V0","V1","DisplayableName"],data:o.data},{data:o.customData}]}}}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){var n;void 0===(n=function(e){var t=r(1),n=r(4),a=r(19),o=n.isNumber;return{type:"ecStat:clustering",transform:function(e){var r=e.upstream,n=e.config||{},s=n.clusterCount;if(!o(s)||s<=0)throw new Error('config param "clusterCount" need to be specified as an interger greater than 1.');if(1===s)return[{},{data:[]}];var i=a.normalizeNewDimensions(n.outputClusterIndexDimension),l=a.normalizeNewDimensions(n.outputCentroidDimensions);if(null==i)throw new Error("outputClusterIndexDimension is required as a number.");for(var u=t.hierarchicalKMeans(r.cloneRawData(),{clusterCount:s,stepByStep:!1,dimensions:a.normalizeExistingDimensions(e,n.dimensions),outputType:t.OutputType.SINGLE,outputClusterIndexDimension:i.index,outputCentroidDimensions:(l||{}).index}),c=r.cloneAllDimensionInfo(),d=[],f=0;f<c.length;f++){var h=c[f];d.push(h.name)}if(d[i.index]=i.name,l)for(f=0;f<l.index.length;f++)null!=l.name[f]&&(d[l.index[f]]=l.name[f]);return[{dimensions:d,data:u.data},{data:u.centroids}]}}}.call(t,r,t,e))||(e.exports=n)}])},e.exports=n()},HouB:function(e,t){},"RY/4":function(e,t,r){var n=r("R9M2"),a=r("dSzd")("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?r:o?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},TmV0:function(e,t,r){r("fZOM"),e.exports=r("FeBl").Object.values},fZOM:function(e,t,r){var n=r("kM2E"),a=r("mbce")(!1);n(n.S,"Object",{values:function(e){return a(e)}})},fxRn:function(e,t,r){r("+tPU"),r("zQR9"),e.exports=r("g8Ux")},g8Ux:function(e,t,r){var n=r("77Pl"),a=r("3fs2");e.exports=r("FeBl").getIterator=function(e){var t=a(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},gRE1:function(e,t,r){e.exports={default:r("TmV0"),__esModule:!0}},mbce:function(e,t,r){var n=r("+E39"),a=r("lktj"),o=r("TcQ7"),s=r("NpIQ").f;e.exports=function(e){return function(t){for(var r,i=o(t),l=a(i),u=l.length,c=0,d=[];u>c;)r=l[c++],n&&!s.call(i,r)||d.push(e?[r,i[r]]:i[r]);return d}}},mvHQ:function(e,t,r){e.exports={default:r("qkKv"),__esModule:!0}},qkKv:function(e,t,r){var n=r("FeBl"),a=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},siuG:function(e,t,r){e.exports=r("GY9q")}});
//# sourceMappingURL=1.6c27ae78ac0613e61e77.js.map