webpackJsonp([4],{"0xjX":function(e,t,a){e.exports=a.p+"static/img/pheno.75b7310.png"},"A+O7":function(e,t,a){e.exports=a.p+"static/img/beta.7c0d546.jpg"},H3ra:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("gyMJ"),o={data:function(){return{errLogShow:!1,noFileShow:!1,errFileNameShow:!1,errGeoIDShow:!1,errSamIDShow:!1,betaFile:null,phenoFile:null,dialogVisibleBeta:!1,dialogVisiblePheno:!1,betaProgress:0,tissue:"blood",ageUnit:"Year",naImp:"methyLImp",options:[{value:"blood",text:"Blood"},{value:"saliva",text:"Saliva"},{value:"skin",text:"Skin"},{value:"brain",text:"Brain"},{value:"Breast",text:"Breast"},{value:"other",text:"Other"}],ageUnitOptions:[{value:"Year",text:"Year"},{value:"Month",text:"Month"},{value:"Week",text:"Week"},{value:"day",text:"day"}],naImpOptions:[{value:"methyLImp",text:"methyLImp"}],selectedClocks:[],allSelectedClocks:!1,indeterminateClocks:!1,clocksList:["HorvathAge","Skin&BloodClock","ZhangBlupredAge","HannumAge","WeidnerAge","LinAge","PedBE","FeSTwo","MEAT","AltumAge","PhenoAge","BNN","EPM","CorticalClock","VidalBraloAge","PerSEClock"]}},watch:{selectedClocks:function(e,t){0===e.length?(this.indeterminateClocks=!1,this.allSelectedClocks=!1):e.length===this.clocksList.length?(this.indeterminateClocks=!1,this.allSelectedClocks=!0):(this.indeterminateClocks=!0,this.allSelectedClocks=!1)}},methods:{toggleAllClocks:function(e){this.selectedClocks=e?this.clocksList.slice():[]},upload:function(){var e=this;if(sessionStorage.loginState)if(null===this.betaFile||null===this.phenoFile)this.noFileShow=!0;else{var t=new FormData,a=this.$refs["beta-input"].files[0],o=this.$refs["pheno-input"].files[0];if(/GSE[0-9]*_beta.csv/.test(a.name)&&/GSE[0-9]*_pheno.csv/.test(o.name))if(a.name.split("_")[0]===o.name.split("_")[0]){var l=Date.parse(new Date);l/=1e3,t.append("taskID",l),t.append("email",sessionStorage.email),t.append("userName",sessionStorage.name),t.append("beta",a),t.append("pheno",o),t.append("tissue",this.tissue),t.append("ageUnit",this.ageUnit),t.append("imputation",this.naImp),t.append("clocks",this.selectedClocks),console.log(t.get("clocks")),sessionStorage.setItem("id",l);var i=a.name+"  |  "+o.name;sessionStorage.setItem("dataName",i);var n={onUploadProgress:function(t){var a=100*t.loaded/t.total;e.betaProgress=a,a<100&&(e.dialogVisibleBeta=!0,e.dialogVisiblePheno=!0),console.log(e.betaProgress)},header:{"Content-Type":"multipart/form-data"}};Object(s.k)(t,n).then(function(t){console.log(t.data),"IDMismatch"===t.data?e.errSamIDShow=!0:e.$router.push({name:"Wait",params:{clocks:e.selectedClocks}})})}else this.errGeoIDShow=!0;else this.errFileNameShow=!0}else this.errLogShow=!0},clearFiles:function(){this.$refs["file-input"].reset()}},created:function(){}},l={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"upload-box"},[s("b-container",{attrs:{fluid:""}},[s("b-row",{staticClass:"my-1"},[s("b-col",[s("h2",[e._v("Upload Your Data")])])],1),s("hr"),e._v(" "),s("b-alert",{attrs:{variant:"danger",show:"",dismissible:""},model:{value:e.errLogShow,callback:function(t){e.errLogShow=t},expression:"errLogShow"}},[e._v("Please login before uploading data")]),e._v(" "),s("b-alert",{attrs:{variant:"danger",show:"",dismissible:""},model:{value:e.noFileShow,callback:function(t){e.noFileShow=t},expression:"noFileShow"}},[e._v("You must upload beta data and phenotype data")]),e._v(" "),s("b-alert",{attrs:{variant:"danger",show:"",dismissible:""},model:{value:e.errFileNameShow,callback:function(t){e.errFileNameShow=t},expression:"errFileNameShow"}},[e._v("Your file name must match the requirements")]),e._v(" "),s("b-alert",{attrs:{variant:"danger",show:"",dismissible:""},model:{value:e.errGeoIDShow,callback:function(t){e.errGeoIDShow=t},expression:"errGeoIDShow"}},[e._v("Beta Data and Phenotype Data must have the same GEO ID")]),e._v(" "),s("b-alert",{attrs:{variant:"danger",show:"",dismissible:""},model:{value:e.errSamIDShow,callback:function(t){e.errSamIDShow=t},expression:"errSamIDShow"}},[e._v("Beta Data and Phenotype Data must have the same Sample ID")]),e._v(" "),s("b-row",{staticClass:"my-1"},[s("b-col",{attrs:{sm:"8"}},[s("b-container",[s("b-row",{staticClass:"my-2"},[s("b",[e._v("DNA Methylation Beta Data (csv or zip)\n            "),s("i",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-beta",modifiers:{"modal-beta":!0}}],staticClass:"format"},[e._v("(Beta Data Format)")])])]),e._v(" "),s("b-row",{staticClass:"my-2"},[s("b-form-file",{ref:"beta-input",attrs:{multiple:"",accept:".csv, .zip, .gz"},model:{value:e.betaFile,callback:function(t){e.betaFile=t},expression:"betaFile"}}),e._v(" "),s("b-progress",{directives:[{name:"show",rawName:"v-show",value:e.dialogVisibleBeta,expression:"dialogVisibleBeta"}],staticClass:"mb-3",attrs:{value:e.betaProgress,max:"100"}}),e._v(" "),s("b-modal",{attrs:{id:"modal-beta",title:"Beta Data Format","ok-only":""}},[s("img",{staticStyle:{"object-fit":"contain",width:"95%"},attrs:{src:a("A+O7")}})])],1),e._v(" "),s("b-row",{staticClass:"my-2"},[s("b",[e._v("Phenotype Data (csv or zip)"),s("i",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-pheno",modifiers:{"modal-pheno":!0}}],staticClass:"format"},[e._v("(Phenotype Data Format)")])])]),e._v(" "),s("b-row",{staticClass:"my-2"},[s("b-form-file",{ref:"pheno-input",attrs:{multiple:"",accept:".csv, .zip, .gz"},model:{value:e.phenoFile,callback:function(t){e.phenoFile=t},expression:"phenoFile"}}),e._v(" "),s("b-progress",{directives:[{name:"show",rawName:"v-show",value:e.dialogVisiblePheno,expression:"dialogVisiblePheno"}],staticClass:"mb-3",attrs:{value:e.betaProgress,max:"100"}}),e._v(" "),s("b-modal",{attrs:{id:"modal-pheno","ok-only":"",title:"Phenotype Data Format"}},[s("img",{staticStyle:{"object-fit":"contain",width:"95%"},attrs:{src:a("0xjX")}})])],1),e._v(" "),s("b-row",{staticClass:"my-2"},[s("b",[e._v("Select Tissues Of The Dataset")])]),e._v(" "),s("b-row",{staticClass:"my-2"},[s("b-form-select",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{options:e.options,id:"inline-form-custom-select-pref"},model:{value:e.tissue,callback:function(t){e.tissue=t},expression:"tissue"}})],1),e._v(" "),s("b-row",{staticClass:"my-2"},[s("b",[e._v("Select Samples Age Unit")])]),e._v(" "),s("b-row",{staticClass:"my-2"},[s("b-form-select",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{options:e.ageUnitOptions,id:"inline-form-custom-select-pref"},model:{value:e.ageUnit,callback:function(t){e.ageUnit=t},expression:"ageUnit"}})],1),e._v(" "),s("b-row",[s("b",[e._v("Select NA Value Imputation Method")])]),e._v(" "),s("b-row",{staticClass:"my-2"},[s("b-form-select",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{options:e.naImpOptions,id:"inline-form-custom-select-pref"},model:{value:e.naImp,callback:function(t){e.naImp=t},expression:"naImp"}})],1)],1)],1),e._v(" "),s("b-col",{attrs:{sm:"4"}},[s("div",{staticStyle:{"border-left":"1px solid #e9ecef","padding-left":"12px",height:"100%"}},[s("b",[e._v("Select the Clocks")]),e._v("  \n          "),s("b-badge",{attrs:{to:"/clocks",variant:"danger"}},[e._v("Clocks Info")]),e._v(" "),s("b-form-checkbox",{staticStyle:{color:"blue"},attrs:{indeterminate:e.indeterminateClocks,"aria-describedby":"clocksList","aria-controls":"clocksList",size:"lg"},on:{change:e.toggleAllClocks},model:{value:e.allSelectedClocks,callback:function(t){e.allSelectedClocks=t},expression:"allSelectedClocks"}},[e._v("\n            "+e._s(e.allSelectedClocks?"Un-select All":"Select All")+"\n          ")]),e._v(" "),s("b-form-group",{scopedSlots:e._u([{key:"default",fn:function(t){var a=t.ariaDescribedby;return[s("b-form-checkbox-group",{attrs:{options:e.clocksList,"aria-describedby":a,name:"flavour-2a",stacked:""},model:{value:e.selectedClocks,callback:function(t){e.selectedClocks=t},expression:"selectedClocks"}})]}}])})],1)])],1),e._v(" "),s("b-row",[s("b-col",[s("b-button",{attrs:{size:"lg"},on:{click:e.upload}},[e._v("Upload Dataset")])],1)],1),e._v(" "),s("b-row")],1)],1)},staticRenderFns:[]};var i=a("VU/8")(o,l,!1,function(e){a("MCxI")},"data-v-2463cd4b",null);t.default=i.exports},MCxI:function(e,t){}});
//# sourceMappingURL=4.503982356c2641df6622.js.map