{"version":3,"sources":["webpack:///./src/assets/pheno.png","webpack:///./src/assets/beta.jpg","webpack:///src/views/Upload.vue","webpack:///./src/views/Upload.vue?f9bb","webpack:///./src/views/Upload.vue"],"names":["module","exports","__webpack_require__","p","Upload","data","errLogShow","noFileShow","errFileNameShow","errGeoIDShow","errSamIDShow","betaFile","phenoFile","dialogVisibleBeta","dialogVisiblePheno","betaProgress","tissue","ageUnit","naImp","options","value","text","ageUnitOptions","naImpOptions","selectedClocks","allSelectedClocks","indeterminateClocks","clocksList","watch","newVal","oldVal","length","this","methods","toggleAllClocks","checked","slice","upload","_this","sessionStorage","formData","FormData","$refs","files","test","split","id","Date","parse","append","console","log","get","setItem","dataName","config","onUploadProgress","progressEvent","percentCompleted","loaded","total","header","Content-Type","Object","api","then","res","$router","push","name","params","clocks","clearFiles","reset","created","views_Upload","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","fluid","_v","variant","show","dismissible","model","callback","$$v","expression","sm","directives","rawName","modifiers","modal-beta","ref","multiple","accept","max","title","ok-only","staticStyle","object-fit","width","src","modal-pheno","border-left","padding-left","height","to","color","indeterminate","aria-describedby","aria-controls","size","on","change","_s","scopedSlots","_u","key","fn","ariaDescribedby","stacked","click","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/4.503982356c2641df6622.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/pheno.75b7310.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/pheno.png\n// module id = 0xjX\n// module chunks = 4","module.exports = __webpack_public_path__ + \"static/img/beta.7c0d546.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/beta.jpg\n// module id = A+O7\n// module chunks = 4","<template>\r\n  <div class=\"upload-box\">\r\n    <b-container fluid>\r\n      <b-row class=\"my-1\"><b-col><h2>Upload Your Data</h2></b-col></b-row><hr/>\r\n      <b-alert v-model=\"errLogShow\" variant=\"danger\" show dismissible>Please login before uploading data</b-alert>\r\n      <b-alert v-model=\"noFileShow\" variant=\"danger\" show dismissible>You must upload beta data and phenotype data</b-alert>\r\n      <b-alert v-model=\"errFileNameShow\" variant=\"danger\" show dismissible>Your file name must match the requirements</b-alert>\r\n      <b-alert v-model=\"errGeoIDShow\" variant=\"danger\" show dismissible>Beta Data and Phenotype Data must have the same GEO ID</b-alert>\r\n      <b-alert v-model=\"errSamIDShow\" variant=\"danger\" show dismissible>Beta Data and Phenotype Data must have the same Sample ID</b-alert>\r\n      <b-row class=\"my-1\">\r\n        <b-col sm=\"8\">\r\n          <b-container>\r\n            <b-row class=\"my-2\">\r\n              <b>DNA Methylation Beta Data (csv or zip)\r\n              <i class=\"format\" v-b-modal.modal-beta>(Beta Data Format)</i></b>\r\n            </b-row>\r\n            <b-row class=\"my-2\">\r\n              <b-form-file ref=\"beta-input\" multiple v-model=\"betaFile\" accept=\".csv, .zip, .gz\"></b-form-file>\r\n              <b-progress v-show=\"dialogVisibleBeta\" :value=\"betaProgress\" max=100 class=\"mb-3\"></b-progress>\r\n              <b-modal id=\"modal-beta\" title=\"Beta Data Format\" ok-only>\r\n                <img style=\"object-fit: contain; width: 95%;\" src=\"../assets/beta.jpg\" />\r\n              </b-modal>\r\n            </b-row>\r\n            <b-row class=\"my-2\">\r\n              <b>Phenotype Data (csv or zip)<i class=\"format\" v-b-modal.modal-pheno>(Phenotype Data Format)</i></b>\r\n            </b-row>\r\n            <b-row class=\"my-2\">\r\n              <b-form-file ref=\"pheno-input\" multiple v-model=\"phenoFile\" accept=\".csv, .zip, .gz\"></b-form-file>\r\n              <b-progress v-show=\"dialogVisiblePheno\" :value=\"betaProgress\" max=100 class=\"mb-3\"></b-progress>\r\n              <b-modal id=\"modal-pheno\" ok-only title=\"Phenotype Data Format\">\r\n                <img style=\"object-fit: contain; width: 95%;\" src=\"../assets/pheno.png\" />\r\n              </b-modal>\r\n            </b-row>\r\n            <b-row class=\"my-2\">\r\n              <b>Select Tissues Of The Dataset</b>\r\n            </b-row>\r\n            <b-row class=\"my-2\">\r\n              <b-form-select\r\n              class=\"mb-2 mr-sm-2 mb-sm-0\"\r\n              v-model=\"tissue\"\r\n              :options=\"options\"\r\n              id=\"inline-form-custom-select-pref\">\r\n              </b-form-select>\r\n            </b-row>\r\n            <b-row class=\"my-2\">\r\n              <b>Select Samples Age Unit</b>\r\n            </b-row>\r\n            <b-row class=\"my-2\">\r\n              <b-form-select\r\n                class=\"mb-2 mr-sm-2 mb-sm-0\"\r\n                v-model=\"ageUnit\"\r\n                :options=\"ageUnitOptions\"\r\n                id=\"inline-form-custom-select-pref\">\r\n              </b-form-select>\r\n            </b-row>\r\n            <b-row>\r\n              <b>Select NA Value Imputation Method</b>\r\n            </b-row>\r\n            <b-row class=\"my-2\">\r\n              <b-form-select\r\n                class=\"mb-2 mr-sm-2 mb-sm-0\"\r\n                v-model=\"naImp\"\r\n                :options=\"naImpOptions\"\r\n                id=\"inline-form-custom-select-pref\">\r\n              </b-form-select>\r\n            </b-row>\r\n          </b-container>\r\n        </b-col>\r\n        <b-col sm=\"4\">\r\n          <div style=\"border-left: 1px solid #e9ecef; padding-left: 12px; height: 100%;\">\r\n            <b>Select the Clocks</b>&nbsp;&nbsp;\r\n            <b-badge to=\"/clocks\" variant=\"danger\">Clocks Info</b-badge>\r\n            <b-form-checkbox style=\"color: blue\"\r\n              v-model=\"allSelectedClocks\" :indeterminate=\"indeterminateClocks\" aria-describedby=\"clocksList\"\r\n              aria-controls=\"clocksList\" @change=\"toggleAllClocks\" size=\"lg\">\r\n              {{ allSelectedClocks ? 'Un-select All' : 'Select All' }}\r\n            </b-form-checkbox>\r\n            <b-form-group v-slot=\"{ ariaDescribedby }\">\r\n              <b-form-checkbox-group\r\n                v-model=\"selectedClocks\"\r\n                :options=\"clocksList\"\r\n                :aria-describedby=\"ariaDescribedby\"\r\n                name=\"flavour-2a\"\r\n                stacked>\r\n              </b-form-checkbox-group>\r\n            </b-form-group>\r\n          </div>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row><b-col>\r\n        <b-button size=\"lg\" @click=\"upload\">Upload Dataset</b-button></b-col>\r\n      </b-row>\r\n      <b-row></b-row>\r\n    </b-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { upload } from '../api'\r\nexport default {\r\n  data () {\r\n    return {\r\n      errLogShow: false,\r\n      noFileShow: false,\r\n      errFileNameShow: false,\r\n      errGeoIDShow: false,\r\n      errSamIDShow: false,\r\n      betaFile: null,\r\n      phenoFile: null,\r\n      dialogVisibleBeta: false,\r\n      dialogVisiblePheno: false,\r\n      betaProgress: 0,\r\n      tissue: 'blood',\r\n      ageUnit: 'Year',\r\n      naImp: 'methyLImp',\r\n      options: [\r\n        { value: 'blood', text: 'Blood' },\r\n        { value: 'saliva', text: 'Saliva' },\r\n        { value: 'skin', text: 'Skin' },\r\n        { value: 'brain', text: 'Brain' },\r\n        { value: 'Breast', text: 'Breast' },\r\n        { value: 'other', text: 'Other' }\r\n      ],\r\n      ageUnitOptions: [\r\n        {value: 'Year', text: 'Year'},\r\n        {value: 'Month', text: 'Month'},\r\n        {value: 'Week', text: 'Week'},\r\n        {value: 'day', text: 'day'}\r\n      ],\r\n      naImpOptions: [\r\n        {value: 'methyLImp', text: 'methyLImp'}\r\n      ],\r\n      selectedClocks: [],\r\n      allSelectedClocks: false,\r\n      indeterminateClocks: false,\r\n      clocksList: ['HorvathAge', 'Skin&BloodClock', 'ZhangBlupredAge', 'HannumAge', 'WeidnerAge', 'LinAge',\r\n        'PedBE', 'FeSTwo', 'MEAT', 'AltumAge', 'PhenoAge', 'BNN', 'EPM', 'CorticalClock', 'VidalBraloAge', 'PerSEClock']\r\n    }\r\n  },\r\n  watch: {\r\n    selectedClocks (newVal, oldVal) {\r\n      if (newVal.length === 0) {\r\n        this.indeterminateClocks = false\r\n        this.allSelectedClocks = false\r\n      } else if (newVal.length === this.clocksList.length) {\r\n        this.indeterminateClocks = false\r\n        this.allSelectedClocks = true\r\n      } else {\r\n        this.indeterminateClocks = true\r\n        this.allSelectedClocks = false\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    toggleAllClocks (checked) {\r\n      this.selectedClocks = checked ? this.clocksList.slice() : []\r\n    },\r\n    upload () {\r\n      if (sessionStorage['loginState']) {\r\n        if (this.betaFile === null || this.phenoFile === null) {\r\n        // this.$refs['modal-nofile'].show()\r\n          this.noFileShow = true\r\n        } else {\r\n          let formData = new FormData()\r\n          let betaFile = this.$refs['beta-input'].files[0]\r\n          let phenoFile = this.$refs['pheno-input'].files[0]\r\n          const patBeta = /GSE[0-9]*_beta.csv/\r\n          const patPh = /GSE[0-9]*_pheno.csv/\r\n          if (patBeta.test(betaFile['name']) && patPh.test(phenoFile['name'])) {\r\n            const betaID = betaFile['name'].split('_')[0]\r\n            const phenoID = phenoFile['name'].split('_')[0]\r\n            if (betaID === phenoID) {\r\n              let id = Date.parse(new Date())\r\n              id = id / 1000\r\n              formData.append('taskID', id)\r\n              formData.append('email', sessionStorage['email'])\r\n              formData.append('userName', sessionStorage['name'])\r\n              formData.append('beta', betaFile)\r\n              formData.append('pheno', phenoFile)\r\n              formData.append('tissue', this.tissue)\r\n              formData.append('ageUnit', this.ageUnit)\r\n              formData.append('imputation', this.naImp)\r\n              formData.append('clocks', this.selectedClocks)\r\n              console.log(formData.get('clocks'))\r\n              sessionStorage.setItem('id', id)\r\n              let dataName = betaFile['name'] + '  |  ' + phenoFile['name']\r\n              sessionStorage.setItem('dataName', dataName)\r\n              // this.$router.push({\r\n              //   path: '/wait',\r\n              //   name: 'Wait',\r\n              //   params: {\r\n              //     'id': id,\r\n              //     'data': betaFile['name'] + phenoFile['name']\r\n              //   }\r\n              // })\r\n              let config = {\r\n                onUploadProgress: progressEvent => {\r\n                // progressEvent.loaded:已上传文件大小\r\n                // progressEvent.total:被上传文件的总大小\r\n                  let percentCompleted = (progressEvent.loaded * 100) / progressEvent.total\r\n                  this.betaProgress = percentCompleted\r\n                  if (percentCompleted < 100) {\r\n                    this.dialogVisibleBeta = true\r\n                    this.dialogVisiblePheno = true\r\n                  }\r\n                  console.log(this.betaProgress)\r\n                },\r\n                header: {'Content-Type': 'multipart/form-data'}\r\n              }\r\n              upload(formData, config).then(res => {\r\n                console.log(res.data)\r\n                if (res.data === 'IDMismatch') {\r\n                  this.errSamIDShow = true\r\n                } else {\r\n                  this.$router.push({\r\n                    // path: '/wait',\r\n                    name: 'Wait',\r\n                    params: { clocks: this.selectedClocks }\r\n                  })\r\n                }\r\n              })\r\n            } else {\r\n              this.errGeoIDShow = true\r\n            }\r\n          } else {\r\n            this.errFileNameShow = true\r\n          }\r\n        }\r\n      } else {\r\n        this.errLogShow = true\r\n      }\r\n      // if (sessionStorage['loginState']) {\r\n      //   if (this.betaFile === null || this.phenoFile === null) {\r\n      //     // this.$refs['modal-nofile'].show()\r\n      //     this.noFileShow = true\r\n      //   } else {\r\n      //     let formData = new FormData()\r\n      //     let betaFile = this.$refs['beta-input'].files[0]\r\n      //     let phenoFile = this.$refs['pheno-input'].files[0]\r\n      //     let id = Date.parse(new Date())\r\n      //     id = id / 1000\r\n      //     formData.append('taskID', id)\r\n      //     formData.append('email', sessionStorage['email'])\r\n      //     formData.append('userName', sessionStorage['name'])\r\n      //     formData.append('beta', betaFile)\r\n      //     formData.append('pheno', phenoFile)\r\n      //     formData.append('tissue', this.tissue)\r\n      //     formData.append('ageUnit', this.ageUnit)\r\n      //     formData.append('imputation', this.naImp)\r\n      //     formData.append('clocks', this.selectedClocks)\r\n      //     console.log(betaFile['name'])\r\n      //     sessionStorage.setItem('id', id)\r\n      //     let dataName = betaFile['name'] + '  |  ' + phenoFile['name']\r\n      //     sessionStorage.setItem('dataName', dataName)\r\n      //     this.$router.push({\r\n      //       path: '/wait',\r\n      //       name: 'Wait',\r\n      //       params: {\r\n      //         'id': id,\r\n      //         'data': betaFile['name'] + phenoFile['name']\r\n      //       }\r\n      //     })\r\n      //     let config = {\r\n      //       onUploadProgress: progressEvent => {\r\n      //       // progressEvent.loaded:已上传文件大小\r\n      //       // progressEvent.total:被上传文件的总大小\r\n      //         let percentCompleted = (progressEvent.loaded * 100) / progressEvent.total\r\n      //         this.betaProgress = percentCompleted\r\n      //         if (percentCompleted < 100) {\r\n      //           this.dialogVisibleBeta = true\r\n      //           this.dialogVisiblePheno = true\r\n      //         }\r\n      //         console.log(this.betaProgress)\r\n      //       },\r\n      //       header: {'Content-Type': 'multipart/form-data'}\r\n      //     }\r\n      //     upload(formData, config).then((res) => {\r\n      //       console.log(res.data)\r\n      //       this.$router.push({\r\n      //         path: '/wait',\r\n      //         name: 'Wait',\r\n      //         params: {\r\n      //           'id': id,\r\n      //           'data': ''\r\n      //         }\r\n      //       })\r\n      //     })\r\n      //   }\r\n      // } else {\r\n      //   // this.$refs['modal-nologin'].show()\r\n      //   this.errLogShow = true\r\n      // }\r\n    },\r\n    clearFiles () {\r\n      this.$refs['file-input'].reset()\r\n    }\r\n  },\r\n  created () {\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped>\r\n  .upload-box{\r\n    width: 80%;\r\n    margin: auto;\r\n    margin-top: 20px;\r\n  }\r\n  .format{\r\n    width: 20px;\r\n    color: blue;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/Upload.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-box\"},[_c('b-container',{attrs:{\"fluid\":\"\"}},[_c('b-row',{staticClass:\"my-1\"},[_c('b-col',[_c('h2',[_vm._v(\"Upload Your Data\")])])],1),_c('hr'),_vm._v(\" \"),_c('b-alert',{attrs:{\"variant\":\"danger\",\"show\":\"\",\"dismissible\":\"\"},model:{value:(_vm.errLogShow),callback:function ($$v) {_vm.errLogShow=$$v},expression:\"errLogShow\"}},[_vm._v(\"Please login before uploading data\")]),_vm._v(\" \"),_c('b-alert',{attrs:{\"variant\":\"danger\",\"show\":\"\",\"dismissible\":\"\"},model:{value:(_vm.noFileShow),callback:function ($$v) {_vm.noFileShow=$$v},expression:\"noFileShow\"}},[_vm._v(\"You must upload beta data and phenotype data\")]),_vm._v(\" \"),_c('b-alert',{attrs:{\"variant\":\"danger\",\"show\":\"\",\"dismissible\":\"\"},model:{value:(_vm.errFileNameShow),callback:function ($$v) {_vm.errFileNameShow=$$v},expression:\"errFileNameShow\"}},[_vm._v(\"Your file name must match the requirements\")]),_vm._v(\" \"),_c('b-alert',{attrs:{\"variant\":\"danger\",\"show\":\"\",\"dismissible\":\"\"},model:{value:(_vm.errGeoIDShow),callback:function ($$v) {_vm.errGeoIDShow=$$v},expression:\"errGeoIDShow\"}},[_vm._v(\"Beta Data and Phenotype Data must have the same GEO ID\")]),_vm._v(\" \"),_c('b-alert',{attrs:{\"variant\":\"danger\",\"show\":\"\",\"dismissible\":\"\"},model:{value:(_vm.errSamIDShow),callback:function ($$v) {_vm.errSamIDShow=$$v},expression:\"errSamIDShow\"}},[_vm._v(\"Beta Data and Phenotype Data must have the same Sample ID\")]),_vm._v(\" \"),_c('b-row',{staticClass:\"my-1\"},[_c('b-col',{attrs:{\"sm\":\"8\"}},[_c('b-container',[_c('b-row',{staticClass:\"my-2\"},[_c('b',[_vm._v(\"DNA Methylation Beta Data (csv or zip)\\n            \"),_c('i',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modal-beta\",modifiers:{\"modal-beta\":true}}],staticClass:\"format\"},[_vm._v(\"(Beta Data Format)\")])])]),_vm._v(\" \"),_c('b-row',{staticClass:\"my-2\"},[_c('b-form-file',{ref:\"beta-input\",attrs:{\"multiple\":\"\",\"accept\":\".csv, .zip, .gz\"},model:{value:(_vm.betaFile),callback:function ($$v) {_vm.betaFile=$$v},expression:\"betaFile\"}}),_vm._v(\" \"),_c('b-progress',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.dialogVisibleBeta),expression:\"dialogVisibleBeta\"}],staticClass:\"mb-3\",attrs:{\"value\":_vm.betaProgress,\"max\":\"100\"}}),_vm._v(\" \"),_c('b-modal',{attrs:{\"id\":\"modal-beta\",\"title\":\"Beta Data Format\",\"ok-only\":\"\"}},[_c('img',{staticStyle:{\"object-fit\":\"contain\",\"width\":\"95%\"},attrs:{\"src\":require(\"../assets/beta.jpg\")}})])],1),_vm._v(\" \"),_c('b-row',{staticClass:\"my-2\"},[_c('b',[_vm._v(\"Phenotype Data (csv or zip)\"),_c('i',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modal-pheno\",modifiers:{\"modal-pheno\":true}}],staticClass:\"format\"},[_vm._v(\"(Phenotype Data Format)\")])])]),_vm._v(\" \"),_c('b-row',{staticClass:\"my-2\"},[_c('b-form-file',{ref:\"pheno-input\",attrs:{\"multiple\":\"\",\"accept\":\".csv, .zip, .gz\"},model:{value:(_vm.phenoFile),callback:function ($$v) {_vm.phenoFile=$$v},expression:\"phenoFile\"}}),_vm._v(\" \"),_c('b-progress',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.dialogVisiblePheno),expression:\"dialogVisiblePheno\"}],staticClass:\"mb-3\",attrs:{\"value\":_vm.betaProgress,\"max\":\"100\"}}),_vm._v(\" \"),_c('b-modal',{attrs:{\"id\":\"modal-pheno\",\"ok-only\":\"\",\"title\":\"Phenotype Data Format\"}},[_c('img',{staticStyle:{\"object-fit\":\"contain\",\"width\":\"95%\"},attrs:{\"src\":require(\"../assets/pheno.png\")}})])],1),_vm._v(\" \"),_c('b-row',{staticClass:\"my-2\"},[_c('b',[_vm._v(\"Select Tissues Of The Dataset\")])]),_vm._v(\" \"),_c('b-row',{staticClass:\"my-2\"},[_c('b-form-select',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\",attrs:{\"options\":_vm.options,\"id\":\"inline-form-custom-select-pref\"},model:{value:(_vm.tissue),callback:function ($$v) {_vm.tissue=$$v},expression:\"tissue\"}})],1),_vm._v(\" \"),_c('b-row',{staticClass:\"my-2\"},[_c('b',[_vm._v(\"Select Samples Age Unit\")])]),_vm._v(\" \"),_c('b-row',{staticClass:\"my-2\"},[_c('b-form-select',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\",attrs:{\"options\":_vm.ageUnitOptions,\"id\":\"inline-form-custom-select-pref\"},model:{value:(_vm.ageUnit),callback:function ($$v) {_vm.ageUnit=$$v},expression:\"ageUnit\"}})],1),_vm._v(\" \"),_c('b-row',[_c('b',[_vm._v(\"Select NA Value Imputation Method\")])]),_vm._v(\" \"),_c('b-row',{staticClass:\"my-2\"},[_c('b-form-select',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\",attrs:{\"options\":_vm.naImpOptions,\"id\":\"inline-form-custom-select-pref\"},model:{value:(_vm.naImp),callback:function ($$v) {_vm.naImp=$$v},expression:\"naImp\"}})],1)],1)],1),_vm._v(\" \"),_c('b-col',{attrs:{\"sm\":\"4\"}},[_c('div',{staticStyle:{\"border-left\":\"1px solid #e9ecef\",\"padding-left\":\"12px\",\"height\":\"100%\"}},[_c('b',[_vm._v(\"Select the Clocks\")]),_vm._v(\"  \\n          \"),_c('b-badge',{attrs:{\"to\":\"/clocks\",\"variant\":\"danger\"}},[_vm._v(\"Clocks Info\")]),_vm._v(\" \"),_c('b-form-checkbox',{staticStyle:{\"color\":\"blue\"},attrs:{\"indeterminate\":_vm.indeterminateClocks,\"aria-describedby\":\"clocksList\",\"aria-controls\":\"clocksList\",\"size\":\"lg\"},on:{\"change\":_vm.toggleAllClocks},model:{value:(_vm.allSelectedClocks),callback:function ($$v) {_vm.allSelectedClocks=$$v},expression:\"allSelectedClocks\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.allSelectedClocks ? 'Un-select All' : 'Select All')+\"\\n          \")]),_vm._v(\" \"),_c('b-form-group',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar ariaDescribedby = ref.ariaDescribedby;\nreturn [_c('b-form-checkbox-group',{attrs:{\"options\":_vm.clocksList,\"aria-describedby\":ariaDescribedby,\"name\":\"flavour-2a\",\"stacked\":\"\"},model:{value:(_vm.selectedClocks),callback:function ($$v) {_vm.selectedClocks=$$v},expression:\"selectedClocks\"}})]}}])})],1)])],1),_vm._v(\" \"),_c('b-row',[_c('b-col',[_c('b-button',{attrs:{\"size\":\"lg\"},on:{\"click\":_vm.upload}},[_vm._v(\"Upload Dataset\")])],1)],1),_vm._v(\" \"),_c('b-row')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2463cd4b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Upload.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2463cd4b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Upload.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Upload.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Upload.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2463cd4b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Upload.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2463cd4b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Upload.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}